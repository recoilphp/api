sudo: false
language: php
php:
- '7.1'
- '7.2'
- '7.3'
- '7.4snapshot'
- 'nightly'
matrix:
  fast_finish: true
  allow_failures:
  - php: '7.4snapshot'
  - php: 'nightly'
before_install:
- phpenv config-rm xdebug.ini || true
- "[[ $GITHUB_TOKEN ]] && composer config --global github-oauth.github.com $GITHUB_TOKEN"
install: composer install --no-interaction
script: make ci
after_script: bash <(curl -s https://codecov.io/bash)
env:
  global:
    secure: SeI3rac2Kzo0GDn504Acawsj6uy/tYn0S/QZE5GQCDmoetHG29HR/8gTEeIwcO9IdNVkk5AwNYnZGWKI8aGupoKtHxA2S75a5oSGANKVZJzF8uyRipF5AENptqjFSmDuJS2YPGf5YUOjnIWR2h2vfHERQD46kiT1Qqk2TCORWdSUyzjG/lTJ23pbMVgcYkOr78RCBlK2XtelDBP9vp1t+f5yC/qWdRo6fQYCDripY93OrigxyzeX+5SY7Fao8f0hwIy9t0xVgs1BUS136b6fKp7YBoNxPKcx2MYjdTG4tUNBwQcNfIPGCuyqIly4a0xIakjs0PnVx/svZw+S6+Mp17FiSlocZT9d9QR8p0yi9ioaQpzFcSgiMqIZ4FMPAZSEpJd8WmxvZdFyc3y3JdgZvWH5dAWdy6slikWnAqgROAK4sellWDsuYxCr9ZrYStOuEVuN/UlXEsJJuo7pSy+qo1GNY7LwbEyEvpQUZKEWyV+2h5V7NICJFxNCEPh9WQwlk2fpQmV8AA7l9oV5Fj2qu7BnRvjNht4H3QBjUkG8QSlO3NmYCiEJXCZc63Gl4uBe8QefJEJXV8+ncHFAoTrfl/Esq5q/s3lZU0UA1Mx5i442Q7AAwnY0zklxsapEudEK7Ir+8+4FqhpER5fFvNGEoaGwc1ot6woZYHGYVgApW9E=
cache:
  directories:
  - "$HOME/.composer/cache/files"
